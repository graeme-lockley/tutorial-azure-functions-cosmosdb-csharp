>>> start | 001-create-store-rg.up: Sun Jul  3 09:18:12 SAST 2022 |---------------------
{
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS",
  "location": "centralus",
  "managedBy": null,
  "name": "tutorialAzureFuncCosmosCSS",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": null,
  "type": "Microsoft.Resources/resourceGroups"
}
>>> end   | 001-create-store-rg.up: Sun Jul  3 09:18:17 SAST 2022 |---------------------
>>> start | 002-create-compute-rg.up: Sun Jul  3 09:18:17 SAST 2022 |---------------------
{
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSC",
  "location": "westus",
  "managedBy": null,
  "name": "tutorialAzureFuncCosmosCSC",
  "properties": {
    "provisioningState": "Succeeded"
  },
  "tags": null,
  "type": "Microsoft.Resources/resourceGroups"
}
>>> end   | 002-create-compute-rg.up: Sun Jul  3 09:18:20 SAST 2022 |---------------------
>>> start | 003-create-cosmos-db.up: Sun Jul  3 09:18:20 SAST 2022 |---------------------
{
  "analyticalStorageConfiguration": {
    "schemaType": "WellDefined"
  },
  "apiProperties": null,
  "backupPolicy": {
    "migrationState": null,
    "periodicModeProperties": {
      "backupIntervalInMinutes": 240,
      "backupRetentionIntervalInHours": 8,
      "backupStorageRedundancy": "Geo"
    },
    "type": "Periodic"
  },
  "capabilities": [],
  "capacity": null,
  "connectorOffer": null,
  "consistencyPolicy": {
    "defaultConsistencyLevel": "Session",
    "maxIntervalInSeconds": 5,
    "maxStalenessPrefix": 100
  },
  "cors": [],
  "createMode": null,
  "databaseAccountOfferType": "Standard",
  "defaultIdentity": "FirstPartyIdentity",
  "disableKeyBasedMetadataWriteAccess": false,
  "disableLocalAuth": false,
  "documentEndpoint": "https://tafccdb.documents.azure.com:443/",
  "enableAnalyticalStorage": false,
  "enableAutomaticFailover": false,
  "enableCassandraConnector": null,
  "enableFreeTier": false,
  "enableMultipleWriteLocations": false,
  "failoverPolicies": [
    {
      "failoverPriority": 0,
      "id": "tafccdb-westus",
      "locationName": "West US"
    }
  ],
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb",
  "identity": {
    "principalId": null,
    "tenantId": null,
    "type": "None",
    "userAssignedIdentities": null
  },
  "instanceId": "9e593ccd-2828-47df-8a42-ba69386f4ba3",
  "ipRules": [],
  "isVirtualNetworkFilterEnabled": false,
  "keyVaultKeyUri": null,
  "kind": "GlobalDocumentDB",
  "location": "Central US",
  "locations": [
    {
      "documentEndpoint": "https://tafccdb-westus.documents.azure.com:443/",
      "failoverPriority": 0,
      "id": "tafccdb-westus",
      "isZoneRedundant": false,
      "locationName": "West US",
      "provisioningState": "Succeeded"
    }
  ],
  "name": "tafccdb",
  "networkAclBypass": "None",
  "networkAclBypassResourceIds": [],
  "privateEndpointConnections": null,
  "provisioningState": "Succeeded",
  "publicNetworkAccess": "Enabled",
  "readLocations": [
    {
      "documentEndpoint": "https://tafccdb-westus.documents.azure.com:443/",
      "failoverPriority": 0,
      "id": "tafccdb-westus",
      "isZoneRedundant": false,
      "locationName": "West US",
      "provisioningState": "Succeeded"
    }
  ],
  "resourceGroup": "tutorialAzureFuncCosmosCSS",
  "restoreParameters": null,
  "systemData": {
    "createdAt": "2022-07-03T07:19:59.689661+00:00",
    "createdBy": null,
    "createdByType": null,
    "lastModifiedAt": null,
    "lastModifiedBy": null,
    "lastModifiedByType": null
  },
  "tags": {},
  "type": "Microsoft.DocumentDB/databaseAccounts",
  "virtualNetworkRules": [],
  "writeLocations": [
    {
      "documentEndpoint": "https://tafccdb-westus.documents.azure.com:443/",
      "failoverPriority": 0,
      "id": "tafccdb-westus",
      "isZoneRedundant": false,
      "locationName": "West US",
      "provisioningState": "Succeeded"
    }
  ]
}
{
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb/sqlDatabases/FriendDatabase",
  "location": null,
  "name": "FriendDatabase",
  "options": null,
  "resource": {
    "_self": "dbs/IjhnAA==/",
    "colls": "colls/",
    "etag": "\"00004d00-0000-0700-0000-62c143510000\"",
    "id": "FriendDatabase",
    "rid": "IjhnAA==",
    "ts": 1656832849.0,
    "users": "users/"
  },
  "resourceGroup": "tutorialAzureFuncCosmosCSS",
  "tags": null,
  "type": "Microsoft.DocumentDB/databaseAccounts/sqlDatabases"
}
{
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb/sqlDatabases/FriendDatabase/containers/FriendContainer",
  "location": null,
  "name": "FriendContainer",
  "options": null,
  "resource": {
    "_conflicts": "conflicts/",
    "_docs": "docs/",
    "_self": "dbs/IjhnAA==/colls/IjhnAJTX70E=/",
    "_sprocs": "sprocs/",
    "_triggers": "triggers/",
    "_udfs": "udfs/",
    "analyticalStorageTtl": null,
    "conflictResolutionPolicy": {
      "conflictResolutionPath": "/_ts",
      "conflictResolutionProcedure": "",
      "mode": "LastWriterWins"
    },
    "defaultTtl": null,
    "etag": "\"00004f00-0000-0700-0000-62c143750000\"",
    "geospatialConfig": {
      "type": "Geography"
    },
    "id": "FriendContainer",
    "indexingPolicy": {
      "automatic": true,
      "compositeIndexes": null,
      "excludedPaths": [
        {
          "path": "/\"_etag\"/?"
        }
      ],
      "includedPaths": [
        {
          "indexes": null,
          "path": "/*"
        }
      ],
      "indexingMode": "consistent",
      "spatialIndexes": null
    },
    "partitionKey": {
      "kind": "Hash",
      "paths": [
        "/LastName"
      ],
      "systemKey": null,
      "version": null
    },
    "rid": "IjhnAJTX70E=",
    "statistics": [
      {
        "documentCount": 0,
        "id": "0",
        "partitionKeys": [],
        "sampledDistinctPartitionKeyCount": 0,
        "sizeInKB": 0
      }
    ],
    "ts": 1656832885.0,
    "uniqueKeyPolicy": {
      "uniqueKeys": []
    }
  },
  "resourceGroup": "tutorialAzureFuncCosmosCSS",
  "tags": null,
  "type": "Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers"
}
>>> end   | 003-create-cosmos-db.up: Sun Jul  3 09:21:51 SAST 2022 |---------------------
>>> start | 004-populate-cosmos-content.up: Sun Jul  3 09:21:51 SAST 2022 |---------------------
Connected to Cosmos: https://tafccdb.documents.azure.com:443/
Accessed Container: FriendContainer
Unhandled exception. Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: Forbidden (403); Substatus: 5301; ActivityId: de2dc137-4b0e-47dc-ad42-263354460291; Reason: (Request blocked by Auth tafccdb : Request is blocked because principal [0533742f-8cb8-4c27-89c0-2c5b4cf79e63] does not have required RBAC permissions to perform action [Microsoft.DocumentDB/databaseAccounts/readMetadata] on resource [/]. Learn more: https://aka.ms/cosmos-native-rbac.
ActivityId: de2dc137-4b0e-47dc-ad42-263354460291, Microsoft.Azure.Documents.Common/2.14.0, Darwin/10.17 cosmos-netstandard-sdk/3.24.1);
   at Microsoft.Azure.Cosmos.GatewayStoreClient.ParseResponseAsync(HttpResponseMessage responseMessage, JsonSerializerSettings serializerSettings, DocumentServiceRequest request)
   at Microsoft.Azure.Cosmos.GatewayAccountReader.GetDatabaseAccountAsync(Uri serviceEndpoint)
   at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAndUpdateAccountPropertiesAsync(Uri endpoint)
   at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAccountPropertiesAsync()
   at Microsoft.Azure.Cosmos.GatewayAccountReader.InitializeReaderAsync()
   at Microsoft.Azure.Cosmos.CosmosAccountServiceConfiguration.InitializeAsync()
   at Microsoft.Azure.Cosmos.DocumentClient.InitializeGatewayConfigurationReaderAsync()
   at Microsoft.Azure.Cosmos.DocumentClient.GetInitializationTaskAsync(IStoreClientFactory storeClientFactory)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Cosmos.AsyncCacheNonBlocking`2.GetAsync(TKey key, Func`1 singleValueInitFunc, Boolean forceRefresh, Action`2 callBackOnForceRefresh)
   at Microsoft.Azure.Cosmos.AsyncCacheNonBlocking`2.GetAsync(TKey key, Func`1 singleValueInitFunc, Boolean forceRefresh, Action`2 callBackOnForceRefresh)
   at Microsoft.Azure.Cosmos.DocumentClient.EnsureValidClientAsync(ITrace trace)
--- Cosmos Diagnostics ---{"Summary":{},"name":"NoOp","id":"00000000-0000-0000-0000-000000000000","start time":"12:00:00:000","duration in milliseconds":0}
>>> start | 004-create-CLIRole.up: Sun Jul  3 09:23:46 SAST 2022 |---------------------
{
  "assignableScopes": [
    "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb"
  ],
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb/sqlRoleDefinitions/d638a93e-390d-466c-9d50-47fb20e75058",
  "name": "d638a93e-390d-466c-9d50-47fb20e75058",
  "permissions": [
    {
      "dataActions": [
        "Microsoft.DocumentDB/databaseAccounts/readMetadata",
        "Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/items/*",
        "Microsoft.DocumentDB/databaseAccounts/sqlDatabases/containers/*"
      ],
      "notDataActions": []
    }
  ],
  "resourceGroup": "tutorialAzureFuncCosmosCSS",
  "roleName": "CLIRole",
  "type": "Microsoft.DocumentDB/databaseAccounts/sqlRoleDefinitions",
  "typePropertiesType": "CustomRole"
}
>>> end   | 004-create-CLIRole.up: Sun Jul  3 09:24:24 SAST 2022 |---------------------
>>> start | 005-role-assignment-to-me.up: Sun Jul  3 09:24:24 SAST 2022 |---------------------
{
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb/sqlRoleAssignments/48d25fe5-9f12-41cc-b94a-2e923893fe95",
  "name": "48d25fe5-9f12-41cc-b94a-2e923893fe95",
  "principalId": "22395703-af19-49be-a81f-ba230562fce3",
  "resourceGroup": "tutorialAzureFuncCosmosCSS",
  "roleDefinitionId": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb/sqlRoleDefinitions/d638a93e-390d-466c-9d50-47fb20e75058",
  "scope": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb",
  "type": "Microsoft.DocumentDB/databaseAccounts/sqlRoleAssignments"
}
>>> end   | 005-role-assignment-to-me.up: Sun Jul  3 09:25:04 SAST 2022 |---------------------
>>> start | 006-populate-cosmos-content.up: Sun Jul  3 09:25:04 SAST 2022 |---------------------
Connected to Cosmos: https://tafccdb.documents.azure.com:443/
Accessed Container: FriendContainer
Unhandled exception. Microsoft.Azure.Cosmos.CosmosException : Response status code does not indicate success: Forbidden (403); Substatus: 5301; ActivityId: 7fbad0f1-85d5-4732-8009-d94caaef1464; Reason: (Request blocked by Auth tafccdb : Request is blocked because principal [0533742f-8cb8-4c27-89c0-2c5b4cf79e63] does not have required RBAC permissions to perform action [Microsoft.DocumentDB/databaseAccounts/readMetadata] on resource [/]. Learn more: https://aka.ms/cosmos-native-rbac.
ActivityId: 7fbad0f1-85d5-4732-8009-d94caaef1464, Microsoft.Azure.Documents.Common/2.14.0, Darwin/10.17 cosmos-netstandard-sdk/3.24.1);
   at Microsoft.Azure.Cosmos.GatewayStoreClient.ParseResponseAsync(HttpResponseMessage responseMessage, JsonSerializerSettings serializerSettings, DocumentServiceRequest request)
   at Microsoft.Azure.Cosmos.GatewayAccountReader.GetDatabaseAccountAsync(Uri serviceEndpoint)
   at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAndUpdateAccountPropertiesAsync(Uri endpoint)
   at Microsoft.Azure.Cosmos.Routing.GlobalEndpointManager.GetAccountPropertiesHelper.GetAccountPropertiesAsync()
   at Microsoft.Azure.Cosmos.GatewayAccountReader.InitializeReaderAsync()
   at Microsoft.Azure.Cosmos.CosmosAccountServiceConfiguration.InitializeAsync()
   at Microsoft.Azure.Cosmos.DocumentClient.InitializeGatewayConfigurationReaderAsync()
   at Microsoft.Azure.Cosmos.DocumentClient.GetInitializationTaskAsync(IStoreClientFactory storeClientFactory)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Documents.ShouldRetryResult.ThrowIfDoneTrying(ExceptionDispatchInfo capturedException)
   at Microsoft.Azure.Documents.BackoffRetryUtility`1.ExecuteRetryAsync(Func`1 callbackMethod, Func`3 callShouldRetry, Func`1 inBackoffAlternateCallbackMethod, TimeSpan minBackoffForInBackoffCallback, CancellationToken cancellationToken, Action`1 preRetryCallback)
   at Microsoft.Azure.Cosmos.AsyncCacheNonBlocking`2.GetAsync(TKey key, Func`1 singleValueInitFunc, Boolean forceRefresh, Action`2 callBackOnForceRefresh)
   at Microsoft.Azure.Cosmos.AsyncCacheNonBlocking`2.GetAsync(TKey key, Func`1 singleValueInitFunc, Boolean forceRefresh, Action`2 callBackOnForceRefresh)
   at Microsoft.Azure.Cosmos.DocumentClient.EnsureValidClientAsync(ITrace trace)
--- Cosmos Diagnostics ---{"Summary":{},"name":"NoOp","id":"00000000-0000-0000-0000-000000000000","start time":"12:00:00:000","duration in milliseconds":0}
>>> start | 006-populate-cosmos-content.up: Sun Jul  3 09:34:27 SAST 2022 |---------------------
Connected to Cosmos: https://tafccdb.documents.azure.com:443/
Accessed Container: FriendContainer
Created item in database with id: d911e209-6473-43f1-938a-c21f48329791 Operation consumed 6,67 RUs.
Created item in database with id: c4c9b414-bb33-4da0-b941-049e84dc7e65 Operation consumed 6,48 RUs.
Running query: SELECT * FROM c WHERE c.LastName = 'Lockley'
	Read CoreLibrary.Entity.Friend
	Read CoreLibrary.Entity.Friend
Lockley, Graeme
Lockley, David
>>> end   | 006-populate-cosmos-content.up: Sun Jul  3 09:34:53 SAST 2022 |---------------------
>>> start | 007-create-app-insights.up: Sun Jul  3 09:34:53 SAST 2022 |---------------------
WARNING: Extension 'application-insights' is already installed.
{
  "appId": "05d47ffa-d701-4ffe-b250-279a783eba4e",
  "applicationId": "tafccn",
  "applicationType": "web",
  "connectionString": "InstrumentationKey=13d9465a-3a56-4b59-a6e9-8c092bf52306;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com/;LiveEndpoint=https://westus.livediagnostics.monitor.azure.com/",
  "creationDate": "2022-07-03T07:35:12.904763+00:00",
  "disableIpMasking": null,
  "etag": "\"aa00edf6-0000-0200-0000-62c146b10000\"",
  "flowType": "Bluefield",
  "hockeyAppId": null,
  "hockeyAppToken": null,
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSC/providers/microsoft.insights/components/tafccn",
  "immediatePurgeDataOn30Days": null,
  "ingestionMode": "ApplicationInsights",
  "instrumentationKey": "13d9465a-3a56-4b59-a6e9-8c092bf52306",
  "kind": "web",
  "location": "westus",
  "name": "tafccn",
  "privateLinkScopedResources": null,
  "provisioningState": "Succeeded",
  "publicNetworkAccessForIngestion": "Enabled",
  "publicNetworkAccessForQuery": "Enabled",
  "requestSource": "rest",
  "resourceGroup": "tutorialAzureFuncCosmosCSC",
  "retentionInDays": 90,
  "samplingPercentage": null,
  "tags": {},
  "tenantId": "2ee96cab-57d3-472f-9d74-b9a9dc556def",
  "type": "microsoft.insights/components"
}
>>> end   | 007-create-app-insights.up: Sun Jul  3 09:35:24 SAST 2022 |---------------------
>>> start | 008-create-storage-account.up: Sun Jul  3 09:35:24 SAST 2022 |---------------------
{
  "accessTier": "Hot",
  "allowBlobPublicAccess": true,
  "allowCrossTenantReplication": null,
  "allowSharedKeyAccess": null,
  "allowedCopyScope": null,
  "azureFilesIdentityBasedAuthentication": null,
  "blobRestoreStatus": null,
  "creationTime": "2022-07-03T07:35:39.492192+00:00",
  "customDomain": null,
  "defaultToOAuthAuthentication": null,
  "dnsEndpointType": null,
  "enableHttpsTrafficOnly": true,
  "enableNfsV3": null,
  "encryption": {
    "encryptionIdentity": null,
    "keySource": "Microsoft.Storage",
    "keyVaultProperties": null,
    "requireInfrastructureEncryption": null,
    "services": {
      "blob": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2022-07-03T07:35:39.601570+00:00"
      },
      "file": {
        "enabled": true,
        "keyType": "Account",
        "lastEnabledTime": "2022-07-03T07:35:39.601570+00:00"
      },
      "queue": null,
      "table": null
    }
  },
  "extendedLocation": null,
  "failoverInProgress": null,
  "geoReplicationStats": null,
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSC/providers/Microsoft.Storage/storageAccounts/tafccs",
  "identity": null,
  "immutableStorageWithVersioning": null,
  "isHnsEnabled": null,
  "isLocalUserEnabled": null,
  "isSftpEnabled": null,
  "keyCreationTime": {
    "key1": "2022-07-03T07:35:39.601570+00:00",
    "key2": "2022-07-03T07:35:39.601570+00:00"
  },
  "keyPolicy": null,
  "kind": "StorageV2",
  "largeFileSharesState": null,
  "lastGeoFailoverTime": null,
  "location": "westus",
  "minimumTlsVersion": "TLS1_0",
  "name": "tafccs",
  "networkRuleSet": {
    "bypass": "AzureServices",
    "defaultAction": "Allow",
    "ipRules": [],
    "resourceAccessRules": null,
    "virtualNetworkRules": []
  },
  "primaryEndpoints": {
    "blob": "https://tafccs.blob.core.windows.net/",
    "dfs": "https://tafccs.dfs.core.windows.net/",
    "file": "https://tafccs.file.core.windows.net/",
    "internetEndpoints": null,
    "microsoftEndpoints": null,
    "queue": "https://tafccs.queue.core.windows.net/",
    "table": "https://tafccs.table.core.windows.net/",
    "web": "https://tafccs.z22.web.core.windows.net/"
  },
  "primaryLocation": "westus",
  "privateEndpointConnections": [],
  "provisioningState": "Succeeded",
  "publicNetworkAccess": null,
  "resourceGroup": "tutorialAzureFuncCosmosCSC",
  "routingPreference": null,
  "sasPolicy": null,
  "secondaryEndpoints": null,
  "secondaryLocation": null,
  "sku": {
    "name": "Standard_LRS",
    "tier": "Standard"
  },
  "statusOfPrimary": "available",
  "statusOfSecondary": null,
  "storageAccountSkuConversionStatus": null,
  "tags": {},
  "type": "Microsoft.Storage/storageAccounts"
}
>>> end   | 008-create-storage-account.up: Sun Jul  3 09:35:59 SAST 2022 |---------------------
>>> start | 009-create-app-service-plan.up: Sun Jul  3 09:35:59 SAST 2022 |---------------------
{
  "elasticScaleEnabled": false,
  "extendedLocation": null,
  "freeOfferExpirationTime": null,
  "geoRegion": "West US",
  "hostingEnvironmentProfile": null,
  "hyperV": false,
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSC/providers/Microsoft.Web/serverfarms/tafccsp",
  "isSpot": false,
  "isXenon": false,
  "kind": "app",
  "kubeEnvironmentProfile": null,
  "location": "westus",
  "maximumElasticWorkerCount": 1,
  "maximumNumberOfWorkers": 0,
  "name": "tafccsp",
  "numberOfSites": 0,
  "perSiteScaling": false,
  "provisioningState": "Succeeded",
  "reserved": false,
  "resourceGroup": "tutorialAzureFuncCosmosCSC",
  "sku": {
    "capabilities": null,
    "capacity": 0,
    "family": "D",
    "locations": null,
    "name": "D1",
    "size": "D1",
    "skuCapacity": null,
    "tier": "Shared"
  },
  "spotExpirationTime": null,
  "status": "Ready",
  "subscription": "2ee96cab-57d3-472f-9d74-b9a9dc556def",
  "tags": null,
  "targetWorkerCount": 0,
  "targetWorkerSizeId": 0,
  "type": "Microsoft.Web/serverfarms",
  "workerTierName": null,
  "zoneRedundant": false
}
>>> end   | 009-create-app-service-plan.up: Sun Jul  3 09:36:13 SAST 2022 |---------------------
>>> start | 010-create-function-app.up: Sun Jul  3 09:36:13 SAST 2022 |---------------------
{
  "availabilityState": "Normal",
  "clientAffinityEnabled": false,
  "clientCertEnabled": false,
  "clientCertExclusionPaths": null,
  "clientCertMode": "Required",
  "cloningInfo": null,
  "containerSize": 1536,
  "customDomainVerificationId": "9BB6FEDAB3B17ACD9F3D9AE4B60FBBC238530BED44EA10E5864CAAA30B037243",
  "dailyMemoryTimeQuota": 0,
  "defaultHostName": "tafcc.azurewebsites.net",
  "enabled": true,
  "enabledHostNames": [
    "tafcc.azurewebsites.net",
    "tafcc.scm.azurewebsites.net"
  ],
  "extendedLocation": null,
  "hostNameSslStates": [
    {
      "hostType": "Standard",
      "ipBasedSslResult": null,
      "ipBasedSslState": "NotConfigured",
      "name": "tafcc.azurewebsites.net",
      "sslState": "Disabled",
      "thumbprint": null,
      "toUpdate": null,
      "toUpdateIpBasedSsl": null,
      "virtualIp": null
    },
    {
      "hostType": "Repository",
      "ipBasedSslResult": null,
      "ipBasedSslState": "NotConfigured",
      "name": "tafcc.scm.azurewebsites.net",
      "sslState": "Disabled",
      "thumbprint": null,
      "toUpdate": null,
      "toUpdateIpBasedSsl": null,
      "virtualIp": null
    }
  ],
  "hostNames": [
    "tafcc.azurewebsites.net"
  ],
  "hostNamesDisabled": false,
  "hostingEnvironmentProfile": null,
  "httpsOnly": false,
  "hyperV": false,
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSC/providers/Microsoft.Web/sites/tafcc",
  "identity": {
    "principalId": "070e7b9a-696e-4c89-b14d-0b7d48b8683b",
    "tenantId": "74716545-bc6e-4f6c-b09a-800bca25207c",
    "type": "SystemAssigned",
    "userAssignedIdentities": null
  },
  "inProgressOperationId": null,
  "isDefaultContainer": null,
  "isXenon": false,
  "keyVaultReferenceIdentity": "SystemAssigned",
  "kind": "functionapp",
  "lastModifiedTimeUtc": "2022-07-03T07:36:39.483333",
  "location": "westus",
  "maxNumberOfWorkers": null,
  "name": "tafcc",
  "outboundIpAddresses": "40.78.93.74,40.78.93.119,40.78.94.159,13.64.195.155,13.64.195.223,13.64.193.139,40.112.243.56",
  "possibleOutboundIpAddresses": "40.78.93.74,40.78.93.119,40.78.94.159,13.64.195.155,13.64.195.223,13.64.193.139,13.64.193.199,13.64.49.75,13.64.62.100,13.64.196.69,13.64.196.89,40.85.153.50,13.64.196.174,13.64.197.23,13.64.199.205,13.83.47.153,13.83.46.13,13.64.62.232,13.83.46.112,13.83.46.127,13.83.46.158,13.83.46.19,13.83.40.163,40.78.49.97,13.83.47.99,13.83.40.63,13.83.49.71,13.83.49.249,13.83.54.97,13.64.56.149,40.112.243.56",
  "redundancyMode": "None",
  "repositorySiteName": "tafcc",
  "reserved": false,
  "resourceGroup": "tutorialAzureFuncCosmosCSC",
  "scmSiteAlsoStopped": false,
  "serverFarmId": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSC/providers/Microsoft.Web/serverfarms/WestUSPlan",
  "siteConfig": {
    "acrUseManagedIdentityCreds": false,
    "acrUserManagedIdentityId": null,
    "alwaysOn": false,
    "antivirusScanEnabled": null,
    "apiDefinition": null,
    "apiManagementConfig": null,
    "appCommandLine": null,
    "appSettings": null,
    "autoHealEnabled": null,
    "autoHealRules": null,
    "autoSwapSlotName": null,
    "azureMonitorLogCategories": null,
    "azureStorageAccounts": null,
    "connectionStrings": null,
    "cors": null,
    "customAppPoolIdentityAdminState": null,
    "customAppPoolIdentityTenantState": null,
    "defaultDocuments": null,
    "detailedErrorLoggingEnabled": null,
    "documentRoot": null,
    "experiments": null,
    "fileChangeAuditEnabled": null,
    "ftpsState": null,
    "functionAppScaleLimit": 0,
    "functionsRuntimeScaleMonitoringEnabled": null,
    "handlerMappings": null,
    "healthCheckPath": null,
    "http20Enabled": false,
    "http20ProxyFlag": null,
    "httpLoggingEnabled": null,
    "ipSecurityRestrictions": [
      {
        "action": "Allow",
        "description": "Allow all access",
        "headers": null,
        "ipAddress": "Any",
        "name": "Allow all",
        "priority": 1,
        "subnetMask": null,
        "subnetTrafficTag": null,
        "tag": null,
        "vnetSubnetResourceId": null,
        "vnetTrafficTag": null
      }
    ],
    "javaContainer": null,
    "javaContainerVersion": null,
    "javaVersion": null,
    "keyVaultReferenceIdentity": null,
    "limits": null,
    "linuxFxVersion": "",
    "loadBalancing": null,
    "localMySqlEnabled": null,
    "logsDirectorySizeLimit": null,
    "machineKey": null,
    "managedPipelineMode": null,
    "managedServiceIdentityId": null,
    "metadata": null,
    "minTlsCipherSuite": null,
    "minTlsVersion": null,
    "minimumElasticInstanceCount": 0,
    "netFrameworkVersion": null,
    "nodeVersion": null,
    "numberOfWorkers": 1,
    "phpVersion": null,
    "powerShellVersion": null,
    "preWarmedInstanceCount": null,
    "publicNetworkAccess": null,
    "publishingPassword": null,
    "publishingUsername": null,
    "push": null,
    "pythonVersion": null,
    "remoteDebuggingEnabled": null,
    "remoteDebuggingVersion": null,
    "requestTracingEnabled": null,
    "requestTracingExpirationTime": null,
    "routingRules": null,
    "runtimeADUser": null,
    "runtimeADUserPassword": null,
    "scmIpSecurityRestrictions": [
      {
        "action": "Allow",
        "description": "Allow all access",
        "headers": null,
        "ipAddress": "Any",
        "name": "Allow all",
        "priority": 1,
        "subnetMask": null,
        "subnetTrafficTag": null,
        "tag": null,
        "vnetSubnetResourceId": null,
        "vnetTrafficTag": null
      }
    ],
    "scmIpSecurityRestrictionsUseMain": null,
    "scmMinTlsVersion": null,
    "scmType": null,
    "sitePort": null,
    "storageType": null,
    "supportedTlsCipherSuites": null,
    "tracingOptions": null,
    "use32BitWorkerProcess": null,
    "virtualApplications": null,
    "vnetName": null,
    "vnetPrivatePortsCount": null,
    "vnetRouteAllEnabled": null,
    "webSocketsEnabled": null,
    "websiteTimeZone": null,
    "winAuthAdminState": null,
    "winAuthTenantState": null,
    "windowsFxVersion": null,
    "xManagedServiceIdentityId": null
  },
  "slotSwapStatus": null,
  "state": "Running",
  "storageAccountRequired": false,
  "suspendedTill": null,
  "tags": null,
  "targetSwapSlot": null,
  "trafficManagerHostNames": null,
  "type": "Microsoft.Web/sites",
  "usageState": "Normal",
  "virtualNetworkSubnetId": null
}
>>> end   | 010-create-function-app.up: Sun Jul  3 09:37:39 SAST 2022 |---------------------
>>> start | 011-assign-role-to-managed-identity.up: Sun Jul  3 09:41:12 SAST 2022 |---------------------
ERROR: (ResourceNotFound) The Resource 'Microsoft.Web/sites/tafccsmi' under resource group 'tutorialAzureFuncCosmosCSC' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
Code: ResourceNotFound
Message: The Resource 'Microsoft.Web/sites/tafccsmi' under resource group 'tutorialAzureFuncCosmosCSC' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix
>>> start | 011-assign-role-to-managed-identity.up: Sun Jul  3 09:41:46 SAST 2022 |---------------------
. Principal ID: 070e7b9a-696e-4c89-b14d-0b7d48b8683b
. Role Definition ID: d638a93e-390d-466c-9d50-47fb20e75058
{
  "id": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb/sqlRoleAssignments/091503fa-c5ed-46e0-90eb-62401ec004c1",
  "name": "091503fa-c5ed-46e0-90eb-62401ec004c1",
  "principalId": "070e7b9a-696e-4c89-b14d-0b7d48b8683b",
  "resourceGroup": "tutorialAzureFuncCosmosCSS",
  "roleDefinitionId": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb/sqlRoleDefinitions/d638a93e-390d-466c-9d50-47fb20e75058",
  "scope": "/subscriptions/2ee96cab-57d3-472f-9d74-b9a9dc556def/resourceGroups/tutorialAzureFuncCosmosCSS/providers/Microsoft.DocumentDB/databaseAccounts/tafccdb",
  "type": "Microsoft.DocumentDB/databaseAccounts/sqlRoleAssignments"
}
>>> end   | 011-assign-role-to-managed-identity.up: Sun Jul  3 09:42:44 SAST 2022 |---------------------
>>> start | 005-role-assignment-to-principal.up: Sun Jul 10 06:58:31 UTC 2022 |---------------------
. Account Name: tafccdb
. Resource Group: tutorialAzureFuncCosmosCSS
ERROR: (ResourceGroupNotFound) Resource group 'tutorialAzureFuncCosmosCSS' could not be found.
Code: ResourceGroupNotFound
Message: Resource group 'tutorialAzureFuncCosmosCSS' could not be found.
